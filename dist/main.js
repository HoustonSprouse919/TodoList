(()=>{let e,t,n=[],d=0,c=[];function o(){localStorage.setItem("taskCopy",JSON.stringify(c)),a()}function a(){let e=JSON.parse(localStorage.getItem("taskCopy"));c=e,console.log(localStorage.getItem("taskCopy"))}function r(e,t){this.title=e,this.description=t,n.push(this)}function s(){const t=document.querySelector("#projectsArea");t.replaceChildren();for(let y=0;y<n.length;y++){function o(){c[y]=[]}o();let E="proDivId"+y;function a(){const e=document.createElement("div");return e.setAttribute("id",E),e.setAttribute("class","projectDiv"),e.addEventListener("click",(()=>{d=y,u()})),e}function r(){let e=document.createElement("h2");return e.append(n[y].title),e}function s(){let e=document.createElement("p");return e.append(n[y].description),e}function i(){let t=document.createElement("button");return t.setAttribute("class","edit"),t.setAttribute("id",y),t.append("edit"),t.addEventListener("click",(()=>{p(),l("editProjectForm"),e=y})),t}function m(){let e=document.createElement("button");return e.setAttribute("id","addNewButton"),e.append("Add new project"),e.addEventListener("click",(()=>{p(),l("addNewProjectForm")})),e}t.appendChild(a()),document.querySelector("#"+E).appendChild(r()),document.querySelector("#"+E).appendChild(s()),document.querySelector("#"+E).appendChild(i()),document.querySelector("#"+E).appendChild(m())}}function i(e,t,n,o,a){this.title=e,this.description=t,this.dueDate=n,this.priority=o,this.notes=a,this.checkStatus=!1,c[d].push(this)}function u(){const e=document.querySelector("#content");function n(){let e=document.createElement("button");return e.setAttribute("class","Task"),e.setAttribute("id","addNewTask"),e.append("edit"),e.addEventListener("click",(()=>{p(),l("addNewTaskForm")})),e}e.replaceChildren(),document.querySelector("#content").appendChild(n());for(let m=0;m<c[d].length;m++){let y="taskDivId"+m;function o(){const e=document.createElement("div");return e.setAttribute("id",y),e.setAttribute("class","taskDiv"),e}function a(){let e=document.createElement("h2");return e.setAttribute("class","title"),e.append("Task: "+c[d][m].title),e}function r(){let e=document.createElement("p");return e.setAttribute("class","description"),e.append("Description: "+c[d][m].description),e}function s(){let e=document.createElement("p");return e.setAttribute("class","dueDate"),e.append("Due date: "+c[d][m].dueDate),e}function i(){let e=document.createElement("p");return e.setAttribute("class","priority"),e.append("Priority: "+c[d][m].priority),e}function u(){let e=document.createElement("p");return e.setAttribute("class","notes"),e.append("Notes: "+c[d][m].notes),e}function n(){let e=document.createElement("button");return e.setAttribute("class","Task"),e.setAttribute("id",m),e.append("edit"),e.addEventListener("click",(()=>{p(),l("editTaskForm"),t=m})),e}e.appendChild(o()),document.querySelector("#"+y).appendChild(a()),document.querySelector("#"+y).appendChild(r()),document.querySelector("#"+y).appendChild(s()),document.querySelector("#"+y).appendChild(i()),document.querySelector("#"+y).appendChild(u()),document.querySelector("#"+y).appendChild(n())}}function l(e){document.getElementById(e).style.display="block"}function m(e){document.getElementById(e).style.display="none"}function p(){document.getElementById("editProjectForm").style.display="none",document.getElementById("addNewProjectForm").style.display="none",document.getElementById("addNewTaskForm").style.display="none",document.getElementById("editTaskForm").style.display="none"}localStorage.getItem("taskCopy")?a():o(),new r("First title","First description"),new r("Second title","Second description"),s(),new i("asdas","asdas","asdas","asdas","asdas"),new i("asdas","asdas","asdas","asdas","asdas"),new i("asdas","asdas","asdas","asdas","asdas"),new i("asdas","asdas","asdas","asdas","asdas"),u(),document.querySelector("#submitChanges").addEventListener("click",(()=>{var t,d;t=document.getElementById("projectName").value,d=document.getElementById("projectDesc").value,n[e].title=t,n[e].description=d,s(),m("editProjectForm"),document.getElementById("actualEditProjectForm").reset()})),document.querySelector("#btnCancel").addEventListener("click",(()=>{m("editProjectForm")})),document.querySelector("#submitNewProject").addEventListener("click",(()=>{new r(document.getElementById("newProjectName").value,document.getElementById("newProjectDesc").value),s(),m("addNewProjectForm"),document.getElementById("actualNewProjectForm").reset()})),document.querySelector("#cancelNewProject").addEventListener("click",(()=>{m("addNewProjectForm")})),document.querySelector("#editTaskButton").addEventListener("click",(()=>{var e,n,a,r,s;e=document.getElementById("editTaskName").value,n=document.getElementById("editTaskDesc").value,a=document.getElementById("editTaskNotes").value,r=document.getElementById("editTaskPriority").value,s=document.getElementById("editTaskDueDate").value,c[d][t].title=e,c[d][t].description=n,c[d][t].dueDate=a,c[d][t].priority=r,c[d][t].notes=s,c[d][t].checkStatus=undefined,u(),m("editTaskForm"),document.getElementById("actualEditTaskForm").reset(),o()})),document.querySelector("#cancelEditTask").addEventListener("click",(()=>{m("editTaskForm")})),document.querySelector("#submitNewTaskButton").addEventListener("click",(()=>{new i(document.getElementById("newTaskName").value,document.getElementById("newTaskDesc").value,document.getElementById("newTaskDueDate").value,document.getElementById("newTaskPriority").value,document.getElementById("newTaskNotes").value,c),u(),m("addNewTaskForm"),document.getElementById("actualAddNewTaskForm").reset(),o()})),document.querySelector("#cancelNewTaskButton").addEventListener("click",(()=>{m("addNewTaskForm")}))})();