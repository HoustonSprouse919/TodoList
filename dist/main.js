(()=>{let e,t=[],n=0,d=[];function c(){localStorage.setItem("taskCopy",JSON.stringify(d)),o()}function o(){d=JSON.parse(localStorage.getItem("taskCopy")),console.log(d)}function r(e,n){this.title=e,this.description=n,t.push(this),function(){let e=t.length+2;d[e]=[]}()}function a(){const e=document.querySelector("#projectsArea");e.replaceChildren();for(let i=0;i<t.length;i++){let l="proDivId"+i;function d(){const e=document.createElement("div");return e.setAttribute("id",l),e.setAttribute("class","projectDiv"),e.addEventListener("click",(()=>{n=i,s()})),e}function c(){let e=document.createElement("h2");return e.append(t[i].title),e}function o(){let e=document.createElement("p");return e.append(t[i].description),e}function r(){let e=document.createElement("button");return e.setAttribute("class","edit"),e.setAttribute("id",i),e.append("edit"),e.addEventListener("click",(()=>{m(),u("editProjectForm"),n=i})),e}function a(){let e=document.createElement("button");return e.setAttribute("id","addNewButton"),e.append("Add new project"),e.addEventListener("click",(()=>{m(),u("addNewProjectForm")})),e}e.appendChild(d()),document.querySelector("#"+l).appendChild(c()),document.querySelector("#"+l).appendChild(o()),document.querySelector("#"+l).appendChild(r()),document.querySelector("#"+l).appendChild(a())}}function i(e,t,c,o,r){this.title=e,this.description=t,this.dueDate=c,this.priority=o,this.notes=r,this.checkStatus=!1,d[n].push(this)}function s(){const t=document.querySelector("#content");function c(){const e=document.createElement("div");return e.setAttribute("id","topBar"),e}function o(){let e=document.createElement("button");return e.setAttribute("class","Task"),e.setAttribute("id","addNewTask"),e.append("Add new task"),e.addEventListener("click",(()=>{m(),u("addNewTaskForm")})),e}t.replaceChildren(),t.appendChild(c()),document.querySelector("#topBar").appendChild(o());for(let p=0;p<d[n].length;p++){let y="taskDivId"+p;function c(){const e=document.createElement("div");return e.setAttribute("id",y),e.setAttribute("class","taskDiv"),e}function r(){let e=document.createElement("h2");return e.setAttribute("class","title"),e.append("Task: "+d[n][p].title),e}function a(){let e=document.createElement("p");return e.setAttribute("class","description"),e.append("Description: "+d[n][p].description),e}function i(){let e=document.createElement("p");return e.setAttribute("class","dueDate"),e.append("Due date: "+d[n][p].dueDate),e}function s(){let e=document.createElement("p");return e.setAttribute("class","priority"),e.append("Priority: "+d[n][p].priority),e}function l(){let e=document.createElement("p");return e.setAttribute("class","notes"),e.append("Notes: "+d[n][p].notes),e}function o(){let t=document.createElement("button");return t.setAttribute("class","Task"),t.setAttribute("id",p),t.append("edit"),t.addEventListener("click",(()=>{m(),u("editTaskForm"),e=p})),t}t.appendChild(c()),document.querySelector("#"+y).appendChild(r()),document.querySelector("#"+y).appendChild(a()),document.querySelector("#"+y).appendChild(i()),document.querySelector("#"+y).appendChild(s()),document.querySelector("#"+y).appendChild(l()),document.querySelector("#"+y).appendChild(o())}}function u(e){document.getElementById(e).style.display="block"}function l(e){document.getElementById(e).style.display="none"}function m(){document.getElementById("editProjectForm").style.display="none",document.getElementById("addNewProjectForm").style.display="none",document.getElementById("addNewTaskForm").style.display="none",document.getElementById("editTaskForm").style.display="none"}localStorage.getItem("taskCopy")?o():c(),new r("First title","First description"),new r("Second title","Second description"),a(),new i("first Task","yep that's first","yep","first","first"),new i("Second task","second","second","second","second"),new i("asdas","asdas","asdas","asdas","asdas"),new i("asdas","asdas","asdas","asdas","asdas"),s(),document.querySelector("#submitChanges").addEventListener("click",(()=>{var e,d;e=document.getElementById("projectName").value,d=document.getElementById("projectDesc").value,t[n].title=e,t[n].description=d,a(),l("editProjectForm"),document.getElementById("actualEditProjectForm").reset()})),document.querySelector("#btnCancel").addEventListener("click",(()=>{l("editProjectForm")})),document.querySelector("#submitNewProject").addEventListener("click",(()=>{new r(document.getElementById("newProjectName").value,document.getElementById("newProjectDesc").value),a(),l("addNewProjectForm"),document.getElementById("actualNewProjectForm").reset()})),document.querySelector("#cancelNewProject").addEventListener("click",(()=>{l("addNewProjectForm")})),document.querySelector("#editTaskButton").addEventListener("click",(()=>{var t,o,r,a,i;t=document.getElementById("editTaskName").value,o=document.getElementById("editTaskDesc").value,r=document.getElementById("editTaskNotes").value,a=document.getElementById("editTaskPriority").value,i=document.getElementById("editTaskDueDate").value,d[n][e].title=t,d[n][e].description=o,d[n][e].dueDate=r,d[n][e].priority=a,d[n][e].notes=i,d[n][e].checkStatus=undefined,c(),s(),l("editTaskForm"),document.getElementById("actualEditTaskForm").reset(),c()})),document.querySelector("#cancelEditTask").addEventListener("click",(()=>{l("editTaskForm")})),document.querySelector("#submitNewTaskButton").addEventListener("click",(()=>{new i(document.getElementById("newTaskName").value,document.getElementById("newTaskDesc").value,document.getElementById("newTaskDueDate").value,document.getElementById("newTaskPriority").value,document.getElementById("newTaskNotes").value,d),c(),s(),l("addNewTaskForm"),document.getElementById("actualAddNewTaskForm").reset(),c()})),document.querySelector("#cancelNewTaskButton").addEventListener("click",(()=>{l("addNewTaskForm")}))})();