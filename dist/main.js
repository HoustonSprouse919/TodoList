(()=>{let e,t=[],n=0,d=[];function o(){localStorage.setItem("projectsCopy",JSON.stringify(t)),r()}function c(){localStorage.setItem("taskCopy",JSON.stringify(d)),r()}function r(){d=JSON.parse(localStorage.getItem("taskCopy")),console.log(d)}function a(e,n){this.title=e,this.description=n,t.push(this),function(){let e=t.length+2;d[e]=[]}()}function i(){const e=document.querySelector("#projectsArea");e.replaceChildren();for(let i=0;i<t.length;i++){let s="proDivId"+i;function d(){const e=document.createElement("div");return e.setAttribute("id",s),e.setAttribute("class","projectDiv"),e.addEventListener("click",(()=>{n=i,l()})),e}function o(){let e=document.createElement("h2");return e.append(t[i].title),e}function c(){let e=document.createElement("p");return e.append(t[i].description),e}function r(){let e=document.createElement("button");return e.setAttribute("class","edit"),e.setAttribute("id",i),e.append("edit"),e.addEventListener("click",(()=>{p(),u("editProjectForm"),n=i})),e}function a(){let e=document.createElement("button");return e.setAttribute("id","addNewButton"),e.append("Add new project"),e.addEventListener("click",(()=>{p(),u("addNewProjectForm")})),e}e.appendChild(d()),document.querySelector("#"+s).appendChild(o()),document.querySelector("#"+s).appendChild(c()),document.querySelector("#"+s).appendChild(r()),document.querySelector("#"+s).appendChild(a())}}function s(e,t,o,c,r){this.title=e,this.description=t,this.dueDate=o,this.priority=c,this.notes=r,this.checkStatus=!1,d[n].push(this)}function l(){const t=document.querySelector("#content");function o(){const e=document.createElement("div");return e.setAttribute("id","topBar"),e}function c(){let e=document.createElement("button");return e.setAttribute("class","Task"),e.setAttribute("id","addNewTask"),e.append("Add new task"),e.addEventListener("click",(()=>{p(),u("addNewTaskForm")})),e}t.replaceChildren(),t.appendChild(o()),document.querySelector("#topBar").appendChild(c());for(let m=0;m<d[n].length;m++){let y="taskDivId"+m;function o(){const e=document.createElement("div");return e.setAttribute("id",y),e.setAttribute("class","taskDiv"),e}function r(){let e=document.createElement("h2");return e.setAttribute("class","title"),e.append("Task: "+d[n][m].title),e}function a(){let e=document.createElement("p");return e.setAttribute("class","description"),e.append("Description: "+d[n][m].description),e}function i(){let e=document.createElement("p");return e.setAttribute("class","dueDate"),e.append("Due date: "+d[n][m].dueDate),e}function s(){let e=document.createElement("p");return e.setAttribute("class","priority"),e.append("Priority: "+d[n][m].priority),e}function l(){let e=document.createElement("p");return e.setAttribute("class","notes"),e.append("Notes: "+d[n][m].notes),e}function c(){let t=document.createElement("button");return t.setAttribute("class","Task"),t.setAttribute("id",m),t.append("edit"),t.addEventListener("click",(()=>{p(),u("editTaskForm"),e=m})),t}t.appendChild(o()),document.querySelector("#"+y).appendChild(r()),document.querySelector("#"+y).appendChild(a()),document.querySelector("#"+y).appendChild(i()),document.querySelector("#"+y).appendChild(s()),document.querySelector("#"+y).appendChild(l()),document.querySelector("#"+y).appendChild(c())}}function u(e){document.getElementById(e).style.display="block"}function m(e){document.getElementById(e).style.display="none"}function p(){document.getElementById("editProjectForm").style.display="none",document.getElementById("addNewProjectForm").style.display="none",document.getElementById("addNewTaskForm").style.display="none",document.getElementById("editTaskForm").style.display="none"}localStorage.getItem("taskCopy")?r():c(),localStorage.getItem("projectsCopy")?(t=JSON.parse(localStorage.getItem("projectsCopy")),console.log(t)):o(),new a("First title","First description"),new a("Second title","Second description"),i(),new s("first Task","yep that's first","yep","first","first"),new s("Second task","second","second","second","second"),new s("asdas","asdas","asdas","asdas","asdas"),new s("asdas","asdas","asdas","asdas","asdas"),l(),document.querySelector("#submitChanges").addEventListener("click",(()=>{var e,d;e=document.getElementById("projectName").value,d=document.getElementById("projectDesc").value,t[n].title=e,t[n].description=d,o(),i(),m("editProjectForm"),document.getElementById("actualEditProjectForm").reset()})),document.querySelector("#btnCancel").addEventListener("click",(()=>{m("editProjectForm")})),document.querySelector("#submitNewProject").addEventListener("click",(()=>{new a(document.getElementById("newProjectName").value,document.getElementById("newProjectDesc").value),o(),i(),m("addNewProjectForm"),document.getElementById("actualNewProjectForm").reset()})),document.querySelector("#cancelNewProject").addEventListener("click",(()=>{m("addNewProjectForm")})),document.querySelector("#editTaskButton").addEventListener("click",(()=>{var t,o,r,a,i;t=document.getElementById("editTaskName").value,o=document.getElementById("editTaskDesc").value,r=document.getElementById("editTaskNotes").value,a=document.getElementById("editTaskPriority").value,i=document.getElementById("editTaskDueDate").value,d[n][e].title=t,d[n][e].description=o,d[n][e].dueDate=r,d[n][e].priority=a,d[n][e].notes=i,d[n][e].checkStatus=undefined,c(),l(),m("editTaskForm"),document.getElementById("actualEditTaskForm").reset(),populateStorage()})),document.querySelector("#cancelEditTask").addEventListener("click",(()=>{m("editTaskForm")})),document.querySelector("#submitNewTaskButton").addEventListener("click",(()=>{new s(document.getElementById("newTaskName").value,document.getElementById("newTaskDesc").value,document.getElementById("newTaskDueDate").value,document.getElementById("newTaskPriority").value,document.getElementById("newTaskNotes").value,d),c(),l(),m("addNewTaskForm"),document.getElementById("actualAddNewTaskForm").reset(),populateStorage()})),document.querySelector("#cancelNewTaskButton").addEventListener("click",(()=>{m("addNewTaskForm")}))})();